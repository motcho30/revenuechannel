<section class="stats">
  <h2>Eye-popping results</h2>
  <div class="stat-grid">
    <div class="stat-card">
      <h3>$<span class="counter" data-target="3">0</span>B+</h3>
      <p>in revenue generated by Postscript</p>
    </div>
    <div class="stat-card">
      <h3>+<span class="counter" data-target="22">0</span>%</h3>
      <p>Online revenue attributed to Postscript SMS</p>
    </div>
    <div class="stat-card">
      <h3><span class="counter" data-target="34">0</span>x</h3>
      <p>ROI across all customers in all categories</p>
    </div>
  </div>
</section>

<script>
  function animateCounter(counter: HTMLElement, target: number) {
    let current = 0;
    const increment = target / 100;
    const timer = setInterval(() => {
      current += increment;
      counter.textContent = Math.floor(current).toString();
      if (current >= target) {
        clearInterval(timer);
        counter.textContent = target.toString();
      }
    }, 20);
  }

  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.querySelectorAll('.counter').forEach((counter) => {
          const target = parseInt(counter.getAttribute('data-target') || '0');
          animateCounter(counter as HTMLElement, target);
        });
        observer.unobserve(entry.target);
      }
    });
  }, { threshold: 0.5 });

  const statsSection = document.querySelector('.stats');
  if (statsSection) {
    statsSection.querySelectorAll('.stat-card').forEach((card) => {
      observer.observe(card);
    });
  }
</script>

<style>
  .stats {
    padding: 4rem 2rem;
    text-align: center;
  }
  h2 {
    font-size: 2.5rem;
    margin-bottom: 2rem;
    background: linear-gradient(135deg, #ffffff, #b3b3b3);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .stat-grid {
    display: flex;
    justify-content: space-around;
    gap: 2rem;
  }
  .stat-card {
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    padding: 2rem;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .stat-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 10px 20px rgba(74, 0, 224, 0.2);
  }
  h3 {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
    color: var(--color-primary);
  }
  p {
    font-size: 1rem;
    color: #b3b3b3;
  }
</style>